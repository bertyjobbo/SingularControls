"use strict";window.SingularControls==undefined&&(window.SingularControls={});SingularControls.RouteModule=angular.module("sgRoute",["ng","ngRoute"]),function(n,t){t.SgRouteConfigProvider=["$provide",function(n){var t=this;t.addAreas=function(n){return t.areas=t.areas.concat(n),t};t.areas=[];t.paramsLimit=10;t.maxParams=function(n){return t.paramsLimit=n,t};t.viewRequestMethod=function(n,t){return"/Views/"+n+"/"+t+".html"};t.configureViewRequestMethod=function(n){return t.viewRequestMethod=n,t};t.areaViewRequestMethod=function(n,t,i){return"/Views/"+n+"/"+t+"/"+i+".html"};t.configureAreaViewRequestMethod=function(n){return t.areaViewRequestMethod=n,t};t.pageNotFoundRouteOrFunction=undefined;t.onPageNotFound=function(n){return t.pageNotFoundRouteOrFunction=n,t};t.onError=function(i){return n.factory("$exceptionHandler",["$injector",function(n){var t;return function(r,u){typeof i=="function"?i(r,u):typeof i=="string"&&(t=t||n.get("$location"),t.path(i));console.log("Error handled by sgRoute. Exception =  "+r);console.log("Error handled by sgRoute. Cause =  "+u)}}]),t};t.finalize=function(n){var i={},s,r,e,u,o,f;for(s in t.areas)for(r=t.areas[s],n.when("/"+r+"/",i).when("/"+r+"/:sgRoute_controller/",i).when("/"+r+"/:sgRoute_controller/:sgRoute_action/",i),e="/:sgRoute_controller/:sgRoute_action/",u=0;u<t.paramsLimit;u++)e+=":sgRoute_param"+(u+1)+"/",n.when("/"+r+e,i);for(n.when("/",i).when("/:sgRoute_controller/",i).when("/:sgRoute_controller/:sgRoute_action/",i),o="/:sgRoute_controller/:sgRoute_action/",f=0;f<t.paramsLimit;f++)o+=":sgRoute_param"+(f+1)+"/",n.when(o,i);t.pageNotFoundRouteOrFunction&&(typeof t.pageNotFoundRouteOrFunction=="string"&&n.otherwise({redirectTo:t.pageNotFoundRouteOrFunction}),typeof t.pageNotFoundRouteOrFunction=="function"&&t.pageNotFoundRouteOrFunction())};this.$get=[function(){return t}]}];n.provider("sgRouteConfig",t.SgRouteConfigProvider);t.SgViewDirective=["sgRouteConfig","$rootScope","$compile","$location","$route","$templateCache","$http","$window",function(n,t,i,r,u,f,e,o){var s=function(n,r,u){var f="<div ng-controller='"+t.sgRoute.controller+"Controller' ng-init='"+t.sgRoute.action+"Action(sgRoute.param1,sgRoute.param2,sgRoute.param3,sgRoute.param4,sgRoute.param5,sgRoute.param6,sgRoute.param7,sgRoute.param8,sgRoute.param9,sgRoute.param10)'>"+u+"<\/div>",e=i(f)(r);n.html("");n.append(e)};return{restrict:"A",link:function(i,h,c){t.sgRoute={};i.$on("$routeChangeSuccess",function(l,a){var v,y,p,w;if(c.autoscroll!="false"&&o.scrollTo(0,0),t.sgLoaderOnSgRouteChange&&i.$emit("sgLoaderShow"),u.current!==undefined&&(a.redirectTo===undefined||a.redirectTo===null||a.redirectTo==="")){for(t.sgRoute.controller=a.pathParams.sgRoute_controller===undefined?"home":a.pathParams.sgRoute_controller.toLowerCase(),t.sgRoute.action=a.pathParams.sgRoute_action===undefined?"index":a.pathParams.sgRoute_action.toLowerCase(),v=0;v<n.paramsLimit;v++)t.sgRoute["param"+(v+1)]=a.pathParams["sgRoute_param"+(v+1)];y=a.originalPath.split("/")[1];p=y!==undefined&&y!==""&&y!==":sgRoute_controller";t.sgRoute.area=p?y:"";t.sgRoute.view=p?n.areaViewRequestMethod(t.sgRoute.area,t.sgRoute.controller,t.sgRoute.action):n.viewRequestMethod(t.sgRoute.controller,t.sgRoute.action);u.current.templateUrl=t.sgRoute.view;w=f.get(u.current.templateUrl);w===undefined?e({method:"get",url:u.current.templateUrl}).success(function(n){f.put(u.current.templateUrl,n);t.sgLoaderOnSgRouteChange&&i.$emit("sgLoaderHide");s(h,i,n)}).error(function(){n.pageNotFoundRouteOrFunction!==undefined&&(console.log(n.pageNotFoundRouteOrFunction),typeof n.pageNotFoundRouteOrFunction=="string"?r.$$path!==n.pageNotFoundRouteOrFunction&&r.path(n.pageNotFoundRouteOrFunction):typeof n.pageNotFoundRouteOrFunction=="function"&&n.pageNotFoundRouteOrFunction());t.sgLoaderOnSgRouteChange&&i.$emit("sgLoaderHide")}):(t.sgLoaderOnSgRouteChange&&i.$emit("sgLoaderHide"),s(h,i,w))}})}}}];n.directive("sgView",t.SgViewDirective)}(SingularControls.RouteModule,SingularControls);
/*
//# sourceMappingURL=sgRoute.min.js.map
*/